<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Scale and/or center data, including survey designs — gscale • jtools</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Scale and/or center data, including survey designs — gscale"><meta property="og:description" content="gscale standardizes variables by dividing them by 2 standard
deviations and mean-centering them by default. It contains options for
handling binary variables separately. gscale() is a fork of
rescale from the arm package---the key feature
difference is that gscale() will perform the same functions for
variables in svydesign objects. gscale() is
also more user-friendly in that it is more flexible in how it accepts input."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.2.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Documentation
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/summ.html">Tools for summarizing and visualizing regression models</a>
    </li>
    <li>
      <a href="../articles/effect_plot.html">Visualizing regression model predictions</a>
    </li>
    <li>
      <a href="../articles/svycor.html">Calculate correlations and correlation tables with complex survey data</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/jacob-long/jtools" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
    Github
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Scale and/or center data, including survey designs</h1>
    <small class="dont-index">Source: <a href="https://github.com/jacob-long/jtools/blob/HEAD/R/gscale.R" class="external-link"><code>R/gscale.R</code></a></small>
    <div class="hidden name"><code>gscale.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>gscale</code> standardizes variables by dividing them by 2 standard
deviations and mean-centering them by default. It contains options for
handling binary variables separately. <code>gscale()</code> is a fork of
<code>rescale</code> from the <code>arm</code> package---the key feature
difference is that <code>gscale()</code> will perform the same functions for
variables in <code><a href="https://rdrr.io/pkg/survey/man/svydesign.html" class="external-link">svydesign</a></code> objects. <code>gscale()</code> is
also more user-friendly in that it is more flexible in how it accepts input.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">gscale</span><span class="op">(</span>
  data <span class="op">=</span> <span class="cn">NULL</span>,
  vars <span class="op">=</span> <span class="cn">NULL</span>,
  binary.inputs <span class="op">=</span> <span class="st">"center"</span>,
  binary.factors <span class="op">=</span> <span class="cn">FALSE</span>,
  n.sd <span class="op">=</span> <span class="fl">2</span>,
  center.only <span class="op">=</span> <span class="cn">FALSE</span>,
  scale.only <span class="op">=</span> <span class="cn">FALSE</span>,
  weights <span class="op">=</span> <span class="cn">NULL</span>,
  apply.weighted.contrasts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jtools-weighted.contrasts"</span>, <span class="cn">FALSE</span><span class="op">)</span>,
  x <span class="op">=</span> <span class="cn">NULL</span>,
  messages <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>A data frame or survey design. Only needed if you would like to
rescale multiple variables at once. If <code>x = NULL</code>, all columns will
be rescaled. Otherwise, <code>x</code> should be a vector of variable names. If
<code>x</code> is a numeric vector, this argument is ignored.</p></dd>
<dt>vars</dt>
<dd><p>If <code>data</code> is a data.frame or similar, you can scale only
select columns by providing a vector column names to this argument.</p></dd>
<dt>binary.inputs</dt>
<dd><p>Options for binary variables. Default is <code>center</code>;
<code>0/1</code> keeps original scale; <code>-0.5/0.5</code> rescales 0 as -0.5 and 1
as 0.5; <code>center</code> subtracts the mean; and <code>full</code> subtracts the
mean and divides by 2 sd.</p></dd>
<dt>binary.factors</dt>
<dd><p>Coerce two-level factors to numeric and apply scaling
functions to them? Default is FALSE.</p></dd>
<dt>n.sd</dt>
<dd><p>By how many standard deviations should the variables be divided
by? Default for <code>gscale</code> is 2, like <code>arm</code>'s <code>rescale</code>.
1 is the more typical standardization scheme.</p></dd>
<dt>center.only</dt>
<dd><p>A logical value indicating whether you would like to mean
-center the values, but not scale them.</p></dd>
<dt>scale.only</dt>
<dd><p>A logical value indicating whether you would like to scale
the values, but not mean-center them.</p></dd>
<dt>weights</dt>
<dd><p>A vector of weights equal in length to <code>x</code>. If iterating
over a data frame, the weights will need to be equal in length to all the
columns to avoid errors. You may need to remove missing values before using
the weights.</p></dd>
<dt>apply.weighted.contrasts</dt>
<dd><p>Factor variables cannot be scaled, but you
can set the contrasts such that the intercept in a regression model will
reflect the true mean (assuming all other variables are centered). If set
to TRUE, the argument will apply weighted effects coding to all factors.
This is similar to the R default effects coding, but weights according to
how many observations are at each level. An adapted version of
<code>contr.wec()</code> from the <code>wec</code> package is used to do this. See
that package's documentation and/or Grotenhuis et al. (2016) for more
info.</p></dd>
<dt>x</dt>
<dd><p>Deprecated. Pass numeric vectors to <code>data</code>. Pass vectors of column
names to <code>vars</code>.</p></dd>
<dt>messages</dt>
<dd><p>Print messages when variables are not processed due to
being non-numeric or all missing? Default is FALSE.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>This function is adapted from the <code>rescale</code> function of
the <code>arm</code> package. It is named <code>gscale()</code> after the
popularizer of this scaling method, Andrew <strong>G</strong>elman. By default, it
works just like <code>rescale</code>. But it contains many additional options and
can also accept multiple types of input without breaking a sweat.</p>
<p>Only numeric variables are altered when in a data.frame or survey design.
Character variables, factors, etc. are skipped.</p>
<p>For those dealing with survey data, if you provide a <code>survey.design</code>
object you can rest assured that the mean-centering and scaling is performed
with help from the <code><a href="https://rdrr.io/pkg/survey/man/surveysummary.html" class="external-link">svymean()</a></code> and
<code><a href="https://rdrr.io/pkg/survey/man/surveysummary.html" class="external-link">svyvar()</a></code> functions, respectively. It was among the
primary motivations for creating this function. <code>gscale()</code> will not
center or scale the weights variables defined in the survey design unless
the user specifically requests them in the <code>x =</code> argument.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Gelman, A. (2008). Scaling regression inputs by dividing by two standard
deviations. <em>Statistics in Medicine</em>, <em>27</em>, 2865–2873.
<a href="http://www.stat.columbia.edu/~gelman/research/published/standardizing7.pdf" class="external-link">http://www.stat.columbia.edu/~gelman/research/published/standardizing7.pdf</a></p>
<p>Grotenhuis, M. te, Pelzer, B., Eisinga, R., Nieuwenhuis, R.,
Schmidt-Catran, A., &amp; Konig, R. (2017). When size matters: Advantages of
weighted effect coding in observational studies. <em>International Journal of
Public Health</em>, <em>62</em>, 163–167. https://doi.org/10.1007/s00038-016-0901-1 (
open access)</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="summ.html">j_summ</a></code> is a replacement for the <code>summary</code> function for
regression models. On request, it will center and/or standardize variables
before printing its output.</p>
<p>Other standardization: 
<code><a href="center_mod.html">center_mod</a>()</code>,
<code><a href="center.html">center</a>()</code>,
<code><a href="scale_mod.html">scale_mod</a>()</code>,
<code><a href="standardize.html">standardize</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Jacob Long <a href="mailto:jacob.long@sc.edu">jacob.long@sc.edu</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">1</span>, <span class="fl">.5</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Basic use</span></span>
<span class="r-in"><span class="fu">gscale</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  0.06266663 -0.24172528 -0.33944613 -0.30935973  1.01135585  0.67282587</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] -0.68063233 -0.12072951  0.07700517 -0.13196054</span>
<span class="r-in"><span class="co"># Normal standardization</span></span>
<span class="r-in"><span class="fu">gscale</span><span class="op">(</span><span class="va">x</span>, n.sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  0.1253333 -0.4834506 -0.6788923 -0.6187195  2.0227117  1.3456517</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] -1.3612647 -0.2414590  0.1540103 -0.2639211</span>
<span class="r-in"><span class="co"># Scale only</span></span>
<span class="r-in"><span class="fu">gscale</span><span class="op">(</span><span class="va">x</span>, scale.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0.8345462 0.5301543 0.4324334 0.4625198 1.7832354 1.4447054 0.0912472</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 0.6511500 0.8488847 0.6399190</span>
<span class="r-in"><span class="co"># Center only</span></span>
<span class="r-in"><span class="fu">gscale</span><span class="op">(</span><span class="va">x</span>, center.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  0.1794558 -0.6922186 -0.9720578 -0.8859006  2.8961777  1.9267435</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] -1.9490986 -0.3457281  0.2205165 -0.3778899</span>
<span class="r-in"><span class="co"># Binary inputs</span></span>
<span class="r-in"><span class="fu">gscale</span><span class="op">(</span><span class="va">x2</span>, binary.inputs <span class="op">=</span> <span class="st">"0/1"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0 1 1 0 0 0 1 1 1 1</span>
<span class="r-in"><span class="fu">gscale</span><span class="op">(</span><span class="va">x2</span>, binary.inputs <span class="op">=</span> <span class="st">"full"</span><span class="op">)</span> <span class="co"># treats it like a continous var</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] -0.5809475  0.3872983  0.3872983 -0.5809475 -0.5809475 -0.5809475</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7]  0.3872983  0.3872983  0.3872983  0.3872983</span>
<span class="r-in"><span class="fu">gscale</span><span class="op">(</span><span class="va">x2</span>, binary.inputs <span class="op">=</span> <span class="st">"-0.5/0.5"</span><span class="op">)</span> <span class="co"># keep scale, center at zero</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] -0.5  0.5  0.5 -0.5 -0.5 -0.5  0.5  0.5  0.5  0.5</span>
<span class="r-in"><span class="fu">gscale</span><span class="op">(</span><span class="va">x2</span>, binary.inputs <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span> <span class="co"># mean center it</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] -0.6  0.4  0.4 -0.6 -0.6 -0.6  0.4  0.4  0.4  0.4</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Data frame as input</span></span>
<span class="r-in"><span class="co"># loops through each numeric column</span></span>
<span class="r-in"><span class="fu">gscale</span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span>, binary.inputs <span class="op">=</span> <span class="st">"-0.5/0.5"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                             mpg        cyl        disp          hp        drat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4            0.07544241 -0.0524939 -0.28530991 -0.26754642  0.28375684</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4 Wag        0.07544241 -0.0524939 -0.28530991 -0.26754642  0.28375684</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Datsun 710           0.22477172 -0.6124289 -0.49509105 -0.39152023  0.23699979</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet 4 Drive       0.10862670 -0.0524939  0.11004685 -0.26754642 -0.48305877</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet Sportabout   -0.11536726  0.5074411  0.52154061  0.20647109 -0.41759890</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valiant             -0.16514370 -0.0524939 -0.02308349 -0.30400931 -0.78230388</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Duster 360          -0.48039447  0.5074411  0.52154061  0.71695148 -0.36149044</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 240D            0.35750889 -0.6124289 -0.33896547 -0.61759012  0.08737724</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 230             0.22477172 -0.6124289 -0.36276756 -0.37693508  0.30245966</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280            -0.07388690 -0.0524939 -0.25464959 -0.17274292  0.30245966</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280C           -0.19003192 -0.0524939 -0.25464959 -0.17274292  0.30245966</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SE          -0.30617694  0.5074411  0.18185654  0.24293397 -0.49241018</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SL          -0.23151228  0.5074411  0.18185654  0.24293397 -0.49241018</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SLC         -0.40572981  0.5074411  0.18185654  0.24293397 -0.49241018</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cadillac Fleetwood  -0.80394131  0.5074411  0.97337691  0.42524840 -0.62332991</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lincoln Continental -0.80394131  0.5074411  0.92496588  0.49817417 -0.55787004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chrysler Imperial   -0.44721018  0.5074411  0.84428082  0.60756282 -0.34278762</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat 128             1.02119472 -0.6124289 -0.61329465 -0.58841981  0.45208222</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Honda Civic          0.85527326 -0.6124289 -0.62539740 -0.69051589  1.24695206</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corolla       1.14563581 -0.6124289 -0.64395497 -0.59571239  0.58300196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corona        0.11692278 -0.6124289 -0.44627659 -0.36234992  0.09672865</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dodge Challenger    -0.38084159  0.5074411  0.35210200  0.02415666 -0.78230388</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AMC Javelin         -0.40572981  0.5074411  0.29562247  0.02415666 -0.41759890</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Camaro Z28          -0.56335520  0.5074411  0.48119809  0.71695148  0.12478288</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pontiac Firebird    -0.07388690  0.5074411  0.68291072  0.20647109 -0.48305877</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat X1-9            0.59809500 -0.6124289 -0.61208437 -0.58841981  0.45208222</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Porsche 914-2        0.49024605 -0.6124289 -0.44546974 -0.40610538  0.77938156</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lotus Europa         0.85527326 -0.6124289 -0.54713290 -0.24566869  0.16218851</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ford Pantera L      -0.35595337  0.5074411  0.48523234  0.85551044  0.58300196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ferrari Dino        -0.03240653 -0.0524939 -0.34582370  0.20647109  0.02191737</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maserati Bora       -0.42232196  0.5074411  0.28351971  1.37328341 -0.05289391</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Volvo 142E           0.10862670 -0.6124289 -0.44264576 -0.27483900  0.48013645</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                               wt         qsec   vs   am       gear        carb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4           -0.305199784 -0.388582573 -0.5  0.5  0.2117771  0.36760154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4 Wag       -0.174892635 -0.231890410 -0.5  0.5  0.2117771  0.36760154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Datsun 710          -0.458502312  0.213003408  0.5  0.5  0.2117771 -0.56107604</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet 4 Drive      -0.001149769  0.445243578  0.5 -0.5 -0.4659096 -0.56107604</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet Sportabout    0.113827127 -0.231890410 -0.5 -0.5 -0.4659096 -0.25151684</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valiant              0.124047296  0.663493376  0.5 -0.5 -0.4659096 -0.56107604</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Duster 360           0.180258223 -0.562063181 -0.5 -0.5 -0.4659096  0.36760154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 240D           -0.013924980  0.601935740  0.5 -0.5  0.2117771 -0.25151684</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 230            -0.034365317  1.413377296  0.5 -0.5  0.2117771 -0.25151684</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280             0.113827127  0.126263104  0.5 -0.5  0.2117771  0.36760154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280C            0.113827127  0.294147564  0.5 -0.5  0.2117771  0.36760154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SE           0.435762437 -0.125563586 -0.5 -0.5 -0.4659096  0.05804235</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SL           0.262019572 -0.069602099 -0.5 -0.5 -0.4659096  0.05804235</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SLC          0.287569993  0.042320874 -0.5 -0.5 -0.4659096  0.05804235</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cadillac Fleetwood   1.038752382  0.036724726 -0.5 -0.5 -0.4659096  0.36760154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lincoln Continental  1.127667849 -0.008044464 -0.5 -0.5 -0.4659096  0.36760154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chrysler Imperial    1.087298183 -0.119967437 -0.5 -0.5 -0.4659096  0.36760154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat 128            -0.519823324  0.453637801  0.5  0.5  0.2117771 -0.56107604</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Honda Civic         -0.818763254  0.187820739  0.5  0.5  0.2117771 -0.25151684</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corolla      -0.706341400  0.573954997  0.5  0.5  0.2117771 -0.56107604</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corona       -0.384406090  0.604733815  0.5 -0.5 -0.4659096 -0.56107604</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dodge Challenger     0.154707802 -0.273861525 -0.5 -0.5 -0.4659096 -0.25151684</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AMC Javelin          0.111272085 -0.153544329 -0.5 -0.5 -0.4659096 -0.25151684</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Camaro Z28           0.318230499 -0.682380377 -0.5 -0.5 -0.4659096  0.36760154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pontiac Firebird     0.320785541 -0.223496187 -0.5 -0.5 -0.4659096 -0.25151684</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat X1-9           -0.655240557  0.294147564  0.5  0.5  0.2117771 -0.56107604</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Porsche 914-2       -0.550483829 -0.321428789 -0.5  0.5  0.8894638 -0.25151684</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lotus Europa        -0.870886114 -0.265467302  0.5  0.5  0.8894638 -0.25151684</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ford Pantera L      -0.024145148 -0.937005142 -0.5  0.5  0.8894638  0.36760154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ferrari Dino        -0.228548520 -0.657197709 -0.5  0.5  0.8894638  0.98671992</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maserati Bora        0.180258223 -0.909024398 -0.5  0.5  0.8894638  1.60583831</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Volvo 142E          -0.223438435  0.210205334  0.5  0.5  0.2117771 -0.25151684</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Specified vars in data frame</span></span>
<span class="r-in"><span class="fu">gscale</span><span class="op">(</span><span class="va">mtcars</span>, vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hp"</span>, <span class="st">"wt"</span>, <span class="st">"vs"</span><span class="op">)</span>, binary.inputs <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      mpg cyl  disp          hp drat           wt  qsec      vs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4           21.0   6 160.0 -0.26754642 3.90 -0.305199784 16.46 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4 Wag       21.0   6 160.0 -0.26754642 3.90 -0.174892635 17.02 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Datsun 710          22.8   4 108.0 -0.39152023 3.85 -0.458502312 18.61  0.5625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet 4 Drive      21.4   6 258.0 -0.26754642 3.08 -0.001149769 19.44  0.5625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet Sportabout   18.7   8 360.0  0.20647109 3.15  0.113827127 17.02 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valiant             18.1   6 225.0 -0.30400931 2.76  0.124047296 20.22  0.5625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Duster 360          14.3   8 360.0  0.71695148 3.21  0.180258223 15.84 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 240D           24.4   4 146.7 -0.61759012 3.69 -0.013924980 20.00  0.5625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 230            22.8   4 140.8 -0.37693508 3.92 -0.034365317 22.90  0.5625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280            19.2   6 167.6 -0.17274292 3.92  0.113827127 18.30  0.5625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280C           17.8   6 167.6 -0.17274292 3.92  0.113827127 18.90  0.5625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SE          16.4   8 275.8  0.24293397 3.07  0.435762437 17.40 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SL          17.3   8 275.8  0.24293397 3.07  0.262019572 17.60 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SLC         15.2   8 275.8  0.24293397 3.07  0.287569993 18.00 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cadillac Fleetwood  10.4   8 472.0  0.42524840 2.93  1.038752382 17.98 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lincoln Continental 10.4   8 460.0  0.49817417 3.00  1.127667849 17.82 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chrysler Imperial   14.7   8 440.0  0.60756282 3.23  1.087298183 17.42 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat 128            32.4   4  78.7 -0.58841981 4.08 -0.519823324 19.47  0.5625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Honda Civic         30.4   4  75.7 -0.69051589 4.93 -0.818763254 18.52  0.5625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corolla      33.9   4  71.1 -0.59571239 4.22 -0.706341400 19.90  0.5625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corona       21.5   4 120.1 -0.36234992 3.70 -0.384406090 20.01  0.5625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dodge Challenger    15.5   8 318.0  0.02415666 2.76  0.154707802 16.87 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AMC Javelin         15.2   8 304.0  0.02415666 3.15  0.111272085 17.30 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Camaro Z28          13.3   8 350.0  0.71695148 3.73  0.318230499 15.41 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pontiac Firebird    19.2   8 400.0  0.20647109 3.08  0.320785541 17.05 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat X1-9           27.3   4  79.0 -0.58841981 4.08 -0.655240557 18.90  0.5625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Porsche 914-2       26.0   4 120.3 -0.40610538 4.43 -0.550483829 16.70 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lotus Europa        30.4   4  95.1 -0.24566869 3.77 -0.870886114 16.90  0.5625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ford Pantera L      15.8   8 351.0  0.85551044 4.22 -0.024145148 14.50 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ferrari Dino        19.7   6 145.0  0.20647109 3.62 -0.228548520 15.50 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maserati Bora       15.0   8 301.0  1.37328341 3.54  0.180258223 14.60 -0.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Volvo 142E          21.4   4 121.0 -0.27483900 4.11 -0.223438435 18.60  0.5625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     am gear carb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4            1    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4 Wag        1    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Datsun 710           1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet 4 Drive       0    3    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet Sportabout    0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valiant              0    3    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Duster 360           0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 240D            0    4    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 230             0    4    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280             0    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280C            0    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SE           0    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SL           0    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SLC          0    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cadillac Fleetwood   0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lincoln Continental  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chrysler Imperial    0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat 128             1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Honda Civic          1    4    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corolla       1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corona        0    3    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dodge Challenger     0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AMC Javelin          0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Camaro Z28           0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pontiac Firebird     0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat X1-9            1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Porsche 914-2        1    5    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lotus Europa         1    5    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ford Pantera L       1    5    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ferrari Dino         1    5    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maserati Bora        1    5    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Volvo 142E           1    4    2</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Weighted inputs</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">wts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">gscale</span><span class="op">(</span><span class="va">x</span>, weights <span class="op">=</span> <span class="va">wts</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  0.11648267 -0.14515428 -0.22914923 -0.20328878  0.93191875  0.64093878</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] -0.52241234 -0.04115360  0.12880721 -0.05080712</span>
<span class="r-in"><span class="co"># If using a weights column of data frame, give its name</span></span>
<span class="r-in"><span class="va">mtcars</span><span class="op">$</span><span class="va">weights</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">32</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">gscale</span><span class="op">(</span><span class="va">mtcars</span>, weights <span class="op">=</span> <span class="va">weights</span><span class="op">)</span> <span class="co"># will skip over mtcars$weights</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                             mpg         cyl        disp          hp        drat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4            0.01452972 -0.03052172 -0.24319408 -0.22078436  0.19370739</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4 Wag        0.01452972 -0.03052172 -0.24319408 -0.22078436  0.19370739</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Datsun 710           0.15552096 -0.57739867 -0.45338241 -0.33320502  0.15212632</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet 4 Drive       0.04586110 -0.03052172  0.15293009 -0.22078436 -0.48822212</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet Sportabout   -0.16562576  0.51635523  0.56522259  0.20905936 -0.43000863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valiant             -0.21262285 -0.03052172  0.01954134 -0.25384926 -0.75434095</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Duster 360          -0.51027103  0.51635523  0.56522259  0.67196798 -0.38011135</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 240D            0.28084651 -0.57739867 -0.29695379 -0.53820741  0.01906690</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 230             0.15552096 -0.57739867 -0.32080208 -0.31997906  0.21033981</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280            -0.12646153 -0.03052172 -0.21247425 -0.13481561  0.21033981</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280C           -0.23612139 -0.03052172 -0.21247425 -0.13481561  0.21033981</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SE          -0.34578124  0.51635523  0.22487917  0.24212426 -0.49653833</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SL          -0.27528562  0.51635523  0.22487917  0.24212426 -0.49653833</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SLC         -0.43977541  0.51635523  0.22487917  0.24212426 -0.49653833</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cadillac Fleetwood  -0.81575206  0.51635523  1.01793593  0.40744877 -0.61296532</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lincoln Continental -0.81575206  0.51635523  0.96943093  0.47357857 -0.55475183</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chrysler Imperial   -0.47893964  0.51635523  0.88858926  0.57277328 -0.36347892</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat 128             0.90747427 -0.57739867 -0.57181546 -0.51175549  0.34339923</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Honda Civic          0.75081733 -0.57739867 -0.58394171 -0.60433721  1.05027738</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corolla       1.02496697 -0.57739867 -0.60253529 -0.51836847  0.45982622</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corona        0.05369395 -0.57739867 -0.40447320 -0.30675310  0.02738312</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dodge Challenger    -0.41627687  0.51635523  0.39545509  0.04373486 -0.75434095</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AMC Javelin         -0.43977541  0.51635523  0.33886593  0.04373486 -0.43000863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Camaro Z28          -0.58859950  0.51635523  0.52480176  0.67196798  0.05233176</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pontiac Firebird    -0.12646153  0.51635523  0.72690593  0.20905936 -0.48822212</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat X1-9            0.50799907 -0.57739867 -0.57060283 -0.51175549  0.34339923</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Porsche 914-2        0.40617206 -0.57739867 -0.40366479 -0.34643098  0.63446670</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lotus Europa         0.75081733 -0.57739867 -0.50552529 -0.20094542  0.08559661</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ford Pantera L      -0.39277833  0.51635523  0.52884384  0.79761461  0.45982622</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ferrari Dino        -0.08729730 -0.03052172 -0.30382533  0.20905936 -0.03914659</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maserati Bora       -0.45544110  0.51635523  0.32673968  1.26713621 -0.10567630</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Volvo 142E           0.04586110 -0.57739867 -0.40083533 -0.22739734  0.36834787</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                              wt         qsec        vs         am       gear</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4           -0.24154326 -0.390494047 -0.474526  0.4979142  0.1786461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4 Wag       -0.10750766 -0.226722357 -0.474526  0.4979142  0.1786461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Datsun 710          -0.39923220  0.238272264  0.525474  0.4979142  0.1786461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet 4 Drive       0.07120648  0.481005305  0.525474 -0.5020858 -0.5025649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet Sportabout    0.18947318 -0.226722357 -0.474526 -0.5020858 -0.5025649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valiant              0.19998578  0.709115874  0.525474 -0.5020858 -0.5025649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Duster 360           0.25780506 -0.571812705 -0.474526 -0.5020858 -0.5025649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 240D            0.05806573  0.644776996  0.525474 -0.5020858  0.1786461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 230             0.03704054  1.492880392  0.525474 -0.5020858  0.1786461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280             0.18947318  0.147612935  0.525474 -0.5020858  0.1786461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280C            0.18947318  0.323082604  0.525474 -0.5020858  0.1786461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SE           0.52061996 -0.115591567 -0.474526 -0.5020858 -0.5025649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SL           0.34190583 -0.057101678 -0.474526 -0.5020858 -0.5025649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SLC          0.36818732  0.059878101 -0.474526 -0.5020858 -0.5025649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cadillac Fleetwood   1.14086313  0.054029112 -0.474526 -0.5020858 -0.5025649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lincoln Continental  1.23232271  0.007237201 -0.474526 -0.5020858 -0.5025649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chrysler Imperial    1.19079796 -0.109742578 -0.474526 -0.5020858 -0.5025649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat 128            -0.46230777  0.489778789  0.525474  0.4979142  0.1786461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Honda Civic         -0.76980121  0.211951814  0.525474  0.4979142  0.1786461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corolla      -0.65416265  0.615532051  0.525474  0.4979142  0.1786461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corona       -0.32301588  0.647701490  0.525474 -0.5020858 -0.5025649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dodge Challenger     0.23152357 -0.270589774 -0.474526 -0.5020858 -0.5025649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AMC Javelin          0.18684503 -0.144836512 -0.474526 -0.5020858 -0.5025649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Camaro Z28           0.39972510 -0.697565967 -0.474526 -0.5020858 -0.5025649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pontiac Firebird     0.40235325 -0.217948874 -0.474526 -0.5020858 -0.5025649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat X1-9           -0.60159967  0.323082604  0.525474  0.4979142  0.1786461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Porsche 914-2       -0.49384556 -0.320306180 -0.474526  0.4979142  0.8598570</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lotus Europa        -0.82341545 -0.261816291  0.525474  0.4979142  0.8598570</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ford Pantera L       0.04755314 -0.963694964 -0.474526  0.4979142  0.8598570</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ferrari Dino        -0.16269879 -0.671245517 -0.474526  0.4979142  0.8598570</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maserati Bora        0.25780506 -0.934450019 -0.474526  0.4979142  0.8598570</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Volvo 142E          -0.15744249  0.235347769  0.525474  0.4979142  0.1786461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                            carb     weights</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4            0.36608160 -0.31199083</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4 Wag        0.36608160 -0.10893821</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Datsun 710          -0.50640168 -0.84230860</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet 4 Drive      -0.50640168  0.08776748</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet Sportabout   -0.21557392 -1.19645015</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valiant             -0.50640168 -0.14601258</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Duster 360           0.36608160  0.14000762</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 240D           -0.21557392 -0.63685223</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 230            -0.21557392 -0.99450210</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280             0.36608160 -0.45667320</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280C            0.36608160 -0.45956586</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SE           0.07525384 -0.76603625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SL           0.07525384  0.54037361</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SLC          0.07525384 -0.65815056</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cadillac Fleetwood   0.36608160 -0.41507768</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lincoln Continental  0.36608160 -1.03175144</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chrysler Imperial    0.36608160 -0.35840551</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat 128            -0.50640168 -0.20651620</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Honda Civic         -0.21557392  0.59258026</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corolla      -0.50640168  0.23041210</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corona       -0.50640168 -0.80207663</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dodge Challenger    -0.21557392 -0.49367749</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AMC Javelin         -0.21557392  0.30975509</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Camaro Z28           0.36608160 -1.23350144</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pontiac Firebird    -0.21557392 -0.09080772</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat X1-9           -0.50640168  0.58474302</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Porsche 914-2       -0.21557392 -0.62290064</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lotus Europa        -0.21557392 -0.69377010</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ford Pantera L       0.36608160  0.43038657</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ferrari Dino         0.94773712 -0.72505902</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maserati Bora        1.52939263  0.05024933</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Volvo 142E          -0.21557392  0.69149916</span>
<span class="r-in"><span class="co"># If using a weights column of data frame, can still select variables</span></span>
<span class="r-in"><span class="fu">gscale</span><span class="op">(</span><span class="va">mtcars</span>, vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hp"</span>, <span class="st">"wt"</span>, <span class="st">"vs"</span><span class="op">)</span>, weights <span class="op">=</span> <span class="va">weights</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      mpg cyl  disp          hp drat          wt  qsec        vs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4           21.0   6 160.0 -0.22078436 3.90 -0.24154326 16.46 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4 Wag       21.0   6 160.0 -0.22078436 3.90 -0.10750766 17.02 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Datsun 710          22.8   4 108.0 -0.33320502 3.85 -0.39923220 18.61  0.525474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet 4 Drive      21.4   6 258.0 -0.22078436 3.08  0.07120648 19.44  0.525474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet Sportabout   18.7   8 360.0  0.20905936 3.15  0.18947318 17.02 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valiant             18.1   6 225.0 -0.25384926 2.76  0.19998578 20.22  0.525474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Duster 360          14.3   8 360.0  0.67196798 3.21  0.25780506 15.84 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 240D           24.4   4 146.7 -0.53820741 3.69  0.05806573 20.00  0.525474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 230            22.8   4 140.8 -0.31997906 3.92  0.03704054 22.90  0.525474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280            19.2   6 167.6 -0.13481561 3.92  0.18947318 18.30  0.525474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280C           17.8   6 167.6 -0.13481561 3.92  0.18947318 18.90  0.525474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SE          16.4   8 275.8  0.24212426 3.07  0.52061996 17.40 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SL          17.3   8 275.8  0.24212426 3.07  0.34190583 17.60 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SLC         15.2   8 275.8  0.24212426 3.07  0.36818732 18.00 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cadillac Fleetwood  10.4   8 472.0  0.40744877 2.93  1.14086313 17.98 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lincoln Continental 10.4   8 460.0  0.47357857 3.00  1.23232271 17.82 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chrysler Imperial   14.7   8 440.0  0.57277328 3.23  1.19079796 17.42 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat 128            32.4   4  78.7 -0.51175549 4.08 -0.46230777 19.47  0.525474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Honda Civic         30.4   4  75.7 -0.60433721 4.93 -0.76980121 18.52  0.525474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corolla      33.9   4  71.1 -0.51836847 4.22 -0.65416265 19.90  0.525474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corona       21.5   4 120.1 -0.30675310 3.70 -0.32301588 20.01  0.525474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dodge Challenger    15.5   8 318.0  0.04373486 2.76  0.23152357 16.87 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AMC Javelin         15.2   8 304.0  0.04373486 3.15  0.18684503 17.30 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Camaro Z28          13.3   8 350.0  0.67196798 3.73  0.39972510 15.41 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pontiac Firebird    19.2   8 400.0  0.20905936 3.08  0.40235325 17.05 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat X1-9           27.3   4  79.0 -0.51175549 4.08 -0.60159967 18.90  0.525474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Porsche 914-2       26.0   4 120.3 -0.34643098 4.43 -0.49384556 16.70 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lotus Europa        30.4   4  95.1 -0.20094542 3.77 -0.82341545 16.90  0.525474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ford Pantera L      15.8   8 351.0  0.79761461 4.22  0.04755314 14.50 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ferrari Dino        19.7   6 145.0  0.20905936 3.62 -0.16269879 15.50 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maserati Bora       15.0   8 301.0  1.26713621 3.54  0.25780506 14.60 -0.474526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Volvo 142E          21.4   4 121.0 -0.22739734 4.11 -0.15744249 18.60  0.525474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     am gear carb    weights</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4            1    4    4 0.45196378</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4 Wag        1    4    4 0.54807749</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Datsun 710           1    4    1 0.20094111</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet 4 Drive       0    3    1 0.64118692</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet Sportabout    0    3    2 0.03331039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valiant              0    3    1 0.53052857</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Duster 360           0    3    4 0.66591447</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 240D            0    4    2 0.29819263</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 230             0    4    2 0.12890126</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280             0    4    4 0.38347926</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280C            0    4    4 0.38211005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SE           0    3    3 0.23704416</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SL           0    3    3 0.85542526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SLC          0    3    3 0.28811119</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cadillac Fleetwood   0    3    4 0.40316825</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lincoln Continental  0    3    4 0.11126951</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chrysler Imperial    0    3    4 0.42999368</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat 128             1    4    1 0.50188955</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Honda Civic          1    4    2 0.88013696</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corolla       1    4    1 0.70870688</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corona        0    3    1 0.21998467</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dodge Challenger     0    3    2 0.36596351</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AMC Javelin          0    3    2 0.74626340</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Camaro Z28           0    3    4 0.01577239</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pontiac Firebird     0    3    2 0.55665945</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat X1-9            1    4    1 0.87642724</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Porsche 914-2        1    5    2 0.30479653</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lotus Europa         1    5    2 0.27125091</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ford Pantera L       1    5    4 0.80336357</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ferrari Dino         1    5    6 0.25644049</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maserati Bora        1    5    8 0.62342794</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Volvo 142E           1    4    2 0.92695961</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Survey designs</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"survey"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://r-survey.r-forge.r-project.org/survey/" class="external-link">survey</a></span><span class="op">)</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">api</span><span class="op">)</span></span>
<span class="r-in">  <span class="co">## Create survey design object</span></span>
<span class="r-in">  <span class="va">dstrat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/survey/man/svydesign.html" class="external-link">svydesign</a></span><span class="op">(</span>id <span class="op">=</span> <span class="op">~</span><span class="fl">1</span>, strata <span class="op">=</span> <span class="op">~</span><span class="va">stype</span>, weights <span class="op">=</span> <span class="op">~</span><span class="va">pw</span>,</span>
<span class="r-in">                       data <span class="op">=</span> <span class="va">apistrat</span>, fpc<span class="op">=</span><span class="op">~</span><span class="va">fpc</span><span class="op">)</span></span>
<span class="r-in">  <span class="co"># Creating test binary variable</span></span>
<span class="r-in">  <span class="va">dstrat</span><span class="op">$</span><span class="va">variables</span><span class="op">$</span><span class="va">binary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">1</span>, <span class="fl">0.5</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="fu">gscale</span><span class="op">(</span>data <span class="op">=</span> <span class="va">dstrat</span>, binary.inputs <span class="op">=</span> <span class="st">"-0.5/0.5"</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu">gscale</span><span class="op">(</span>data <span class="op">=</span> <span class="va">dstrat</span>, vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"api00"</span>,<span class="st">"meals"</span>,<span class="st">"binary"</span><span class="op">)</span>,</span>
<span class="r-in">         binary.inputs <span class="op">=</span> <span class="st">"-0.5/0.5"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Stratified Independent Sampling design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dstrat &lt;- svydesign(id = ~1, strata = ~stype, weights = ~pw,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        data = apistrat, fpc=~fpc)</span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jacob A. Long.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

